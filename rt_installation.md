# RT Installation
Install Pre-requisites

    1.Apache with Perl module
    2.Mysql
        3.Perl

Download RT source code from

    http://bestpractical.com/pub/rt/release/rt-4.0.11.tar.gz
    
Extract .tar.gz file & go to .1the extracted directory

    tar -xzf rt-4.0.11.tar.gz
    cd rt-4.0.11/
    
Run the configure script

    ./configure
    
Install cpan

    /usr/bin/perl -MCPAN -e shell

Test perl dependencies

    make testdeps
    
In case any depedency missing, then fix it by running

    make fixdeps
    
Repeat above two step untill dependencies get resolved

Initialize DB for RT
but before that make entry for database for DB connection in RT_SiteConfig.pm

    vim /opt/rt4/etc/RT_SitrConfig.pm
    Set($DatabaseType , 'mysql');
    Set($DatabaseHost   , 'localhost');
    Set($DatabasePort , '3306');
    Set($DatabaseUser , 'dbusername');
    Set($DatabasePassword , 'dbpassword');
    Set($DatabaseName , 'rt4');

Then run 

    make initialize-database
    
Apache configuration for RT

    <VirtualHost *:80>
    ### Optional apache logs for RT
    # ErrorLog /opt/rt4/var/log/apache2.error
    # TransferLog /opt/rt4/var/log/apache2.access
    # LogLevel debug
    AddDefaultCharset UTF-8
    ServerName rt.weboniselab.com
    DocumentRoot "/opt/rt4/share/html"
    <Location />
        Order allow,deny
        Allow from all
         SetHandler modperl
        PerlResponseHandler Plack::Handler::Apache2
        PerlSetVar psgi_app /opt/rt4/sbin/rt-server
    </Location>
    <Perl>
        use Plack::Handler::Apache2;
        Plack::Handler::Apache2->preload("/opt/rt4/sbin/rt-server");
    </Perl>
    </VirtualHost>
    
Restart Apache

    /etc/init.d/apache reload
    /etc/init.d/apache restart
    
Configure RT from your web Browser login

    Log in to RT - Open your web browser, enter your RT IP address use      default root login:
    root : password
    Navigate to:
    Configuration | Global | Group Rights
    Find "Everyone" in "System Groups" and grant the following rights:
    CommentOnTicket
    CreateTicket
    ReplyToTicket
    Navigate to:
    Configuration | Queues | General
    Set the "Reply Address" & "Comment Address" to IT-Support@yourdomain
    Change “Description” to “IT-Support”
    Use a valid email address for your domain. 


Configure rt-mailgate for inbound mail
Here we are using "getmail" to retrive mail from smtp server

firstly istall getmail

    ap-get install getmail4
    
write getmail configuration to retrve mail

    mkdir ~/.getmail
    cd ~/.getmail
    vim getmailrc
    [retriever]
    type = SimplePOP3SSLRetriever
    #type = SimpleIMAPSSLRetriever
    server = pop.gmail.com
    username = ticket@example.com
    password = password
    [destination]
    type = MDA_external
    path = /opt/rt4/bin/rt-mailgate
    user = rtuser
    group = rtgroup
    arguments = ("--url", "http://rt.example.com", "--queue",             "General", "--action", "correspond",)
    [options]
    read_all = false
    delete_after = 8
    
Then run

    getmail --rcfile=<absolute path to>/getmailrc

Login to your rt & you will see the ticket in General queue generated by rt-mailgate